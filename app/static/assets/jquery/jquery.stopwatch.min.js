(function(c){function f(h,g){return function(){h+=g;return h}}function d(g){return(g<10?"0":"")+g}function e(j){var g,k,i,h;g=j/1000;k=Math.floor(g%60);g/=60;i=Math.floor(g%60);g/=60;h=Math.floor(g%24);return[d(h),d(i),d(k)].join(":")}function b(h,i){var g;if(typeof jintervals=="function"){g=function(j,k){return jintervals(j/1000,k.format)}}else{g=e}b=function(j,k){return g(j,k)};return b(h,i)}var a={init:function(g){var h={updateInterval:1000,startTime:0,format:"{HH}:{MM}:{SS}",formatter:b};return this.each(function(){var k=c(this),j=k.data("stopwatch");if(!j){var i=c.extend({},h,g);j=i;j.active=false;j.target=k;j.elapsed=i.startTime;j.incrementer=f(j.startTime,j.updateInterval);j.tick_function=function(){var l=j.incrementer();j.elapsed=l;j.target.trigger("tick.stopwatch",[l]);j.target.stopwatch("render")};k.data("stopwatch",j)}})},start:function(){return this.each(function(){var h=c(this),g=h.data("stopwatch");g.active=true;g.timerID=setInterval(g.tick_function,g.updateInterval);h.data("stopwatch",g)})},stop:function(){return this.each(function(){var h=c(this),g=h.data("stopwatch");clearInterval(g.timerID);g.active=false;h.data("stopwatch",g)})},destroy:function(){return this.each(function(){var h=c(this),g=h.data("stopwatch");h.stopwatch("stop").unbind(".stopwatch").removeData("stopwatch")})},render:function(){var h=c(this),g=h.data("stopwatch");h.html(g.formatter(g.elapsed,g))},getTime:function(){var h=c(this),g=h.data("stopwatch");return g.elapsed},toggle:function(){return this.each(function(){var h=c(this);var g=h.data("stopwatch");if(g.active){h.stopwatch("stop")}else{h.stopwatch("start")}})},reset:function(){return this.each(function(){var g=c(this);data=g.data("stopwatch");data.incrementer=f(data.startTime,data.updateInterval);data.elapsed=data.startTime;g.data("stopwatch",data)})}};c.fn.stopwatch=function(g){if(a[g]){return a[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return a.init.apply(this,arguments)}else{c.error("Method "+g+" does not exist on jQuery.stopwatch")}}}})(jQuery);