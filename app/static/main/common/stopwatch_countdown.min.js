$(document).ready(function(){(function(a){a.extend({APP:{formatTimer:function(b){if(b<10){b="0"+b}return b},startTimer:function(c){var b;a.APP.dir=c;a.APP.d1=new Date();switch(a.APP.state){case"pause":a.APP.t1=a.APP.d1.getTime()-a.APP.td;break;default:a.APP.t1=a.APP.d1.getTime();if(a.APP.dir==="cd"){a.APP.t1+=parseInt(a("#cd_seconds").val())*1000}break}a.APP.state="alive";a("#"+a.APP.dir+"_status").html("Running");a.APP.loopTimer()},pauseTimer:function(){a.APP.dp=new Date();a.APP.tp=a.APP.dp.getTime();a.APP.td=a.APP.tp-a.APP.t1;a("#"+a.APP.dir+"_start").val("Resume");a.APP.state="pause";a("#"+a.APP.dir+"_status").html("Paused")},stopTimer:function(){a("#"+a.APP.dir+"_start").val("Restart");a.APP.state="stop";a("#"+a.APP.dir+"_status").html("Stopped")},resetTimer:function(){a("#"+a.APP.dir+"_ms,#"+a.APP.dir+"_s,#"+a.APP.dir+"_m,#"+a.APP.dir+"_h").html("00");a("#"+a.APP.dir+"_start").val("Start");a.APP.state="reset";a("#"+a.APP.dir+"_status").html("Reset & Idle again")},endTimer:function(b){a("#"+a.APP.dir+"_start").val("Restart");a.APP.state="end";if(typeof b==="function"){b()}},loopTimer:function(){var i;var g,f;var c=0;var e=0;var b=0;var d=0;if(a.APP.state==="alive"){g=new Date();f=g.getTime();if(a.APP.dir==="sw"){i=f-a.APP.t1}else{i=a.APP.t1-f;if(i<=0){a.APP.endTimer(function(){a.APP.resetTimer();a("#"+a.APP.dir+"_status").html("Ended & Reset")})}}c=i%1000;if(c<1){c=0}else{e=(i-c)/1000;if(e<1){e=0}else{var b=(e-(e%60))/60;if(b<1){b=0}else{var d=(b-(b%60))/60;if(d<1){d=0}}}}c=Math.round(c/100);e=e-(b*60);b=b-(d*60);a("#"+a.APP.dir+"_ms").html(a.APP.formatTimer(c));a("#"+a.APP.dir+"_s").html(a.APP.formatTimer(e));a("#"+a.APP.dir+"_m").html(a.APP.formatTimer(b));a("#"+a.APP.dir+"_h").html(a.APP.formatTimer(d));a.APP.t=setTimeout(a.APP.loopTimer,1)}else{clearTimeout(a.APP.t);return true}}}})})(jQuery)});